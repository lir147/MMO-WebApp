<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<title>Mini-RPG Mobile</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<style>
  body {
    font-family: Arial, sans-serif;
    background: #111;
    color: #fff;
    text-align: center;
    margin: 0;
    padding: 0;
  }
  #game {
    margin: 10px auto;
    width: 95vw;
    height: 50vw; /* –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–µ –ø–æ–ª–µ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
    max-width: 600px;
    max-height: 600px;
    border: 2px solid #fff;
    border-radius: 10px;
    background: #222 url('https://opengameart.org/sites/default/files/tiny_roguelike_tilesheet.png') no-repeat center center;
    background-size: contain;
    position: relative;
    overflow: hidden;
  }
  .character,
  .monster,
  .loot {
    width: 16vw;    /* –±–æ–ª—å—à–∏–µ –æ–±—ä–µ–∫—Ç—ã –ø–æ–¥ –º–æ–±–∏–ª—å–Ω—ã–µ, ~16% —à–∏—Ä–∏–Ω—ã —ç–∫—Ä–∞–Ω–∞ */
    height: 16vw;
    max-width: 96px;
    max-height: 96px;
    position: absolute;
    transition: all 0.2s ease;
  }
  .character img,
  .monster img,
  .loot img {
    width: 100%;
    height: 100%;
    image-rendering: pixelated;
    border-radius: 8px;
    border: 1px solid #ccc;
    box-shadow: 0 0 5px #0008;
    background: #222;
  }
  #status {
    margin: 5px auto 10px;
    width: 95vw;
    max-width: 600px;
    border: 1px solid #fff;
    padding: 12px 15px;
    font-size: 16px;
    text-align: left;
    border-radius: 8px;
    user-select: none;
  }
  .bar {
    width: 100%;
    height: 14px;
    background: #444;
    border-radius: 7px;
    margin: 8px 0;
    position: relative;
    overflow: hidden;
  }
  .bar-fill {
    height: 100%;
    background: #0f0;
    width: 0%;
    border-radius: 7px;
    transition: width 0.3s ease;
  }
  #mpFill {
    background: #06f;
  }
  #expFill {
    background: #ff0;
  }
  #inventory {
    margin: 10px auto;
    width: 95vw;
    max-width: 600px;
    display: flex;
    justify-content: flex-start;
    flex-wrap: nowrap;
    overflow-x: auto;
    border: 1px solid #fff;
    padding: 8px 5px;
    background: #222;
    border-radius: 8px;
    cursor: default;
  }
  #inventory::-webkit-scrollbar {
      height: 8px;
  }
  #inventory::-webkit-scrollbar-thumb {
      background: #666;
      border-radius: 4px;
  }
  .item {
    min-width: 56px;
    min-height: 56px;
    margin: 0 7px;
    background-size: contain;
    background-repeat: no-repeat;
    border: 2px solid #fff;
    border-radius: 10px;
    position: relative;
    flex-shrink: 0;
  }
  .item span {
    position: absolute;
    bottom: 2px;
    left: 2px;
    right: 2px;
    background: #000c;
    font-size: 11px;
    color: #eee;
    user-select: none;
    border-radius: 4px;
    padding: 1px 3px;
    text-transform: uppercase;
    text-align: center;
  }
  .item:hover {
    filter: brightness(1.3);
    cursor: pointer;
  }
  #log {
    height: 140px;
    max-width: 600px;
    margin: 10px auto;
    overflow-y: auto;
    border: 1px solid #fff;
    padding: 10px 12px;
    font-size: 14px;
    text-align: left;
    background: #222;
    border-radius: 8px;
    user-select: none;
  }
  button {
    margin: 8px 12px;
    padding: 14px 18px;
    font-size: 18px;
    border-radius: 8px;
    border: none;
    background: #0066cc;
    color: #fff;
    cursor: pointer;
    transition: 0.25s;
    min-width: 150px;
  }
  button:active {
    background: #004bb5;
  }
  #gameControls {
    margin-top: 15px;
  }
  #skillTreeModal {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: #222;
    border: 2px solid #fff;
    padding: 20px 25px;
    z-index: 100;
    width: 90%;
    max-width: 340px;
    max-height: 70%;
    overflow-y: auto;
    font-size: 15px;
    border-radius: 12px;
    display: none;
  }
  #skillTreeModal.visible {
    display: block;
  }
  #skillTreeModal button {
    min-width: 80px;
    padding: 8px 12px;
    font-size: 14px;
    margin-top: 10px;
  }
</style>
</head>
<body>
  <h2 style="font-size: 1.8em; margin-top:10px;">Mini-RPG Mobile</h2>
  <div id="game" aria-label="–ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ" role="main"></div>
  <div id="status" aria-live="polite" aria-atomic="true" aria-relevant="all">
    <strong>HP:</strong>
    <div class="bar" role="progressbar" aria-valuemin="0" aria-valuemax="100">
      <div class="bar-fill" id="hpFill"></div>
    </div>
    <strong>MP:</strong>
    <div class="bar" role="progressbar" aria-valuemin="0" aria-valuemax="100">
      <div class="bar-fill" id="mpFill"></div>
    </div>
    <strong>EXP:</strong>
    <div class="bar" role="progressbar" aria-valuemin="0" aria-valuemax="100">
      <div class="bar-fill" id="expFill"></div>
    </div>
    <div style="margin-top:8px; font-size:16px;">
      <span><strong>Level:</strong> <span id="levelDisplay"></span></span> &nbsp;&nbsp;
      <span><strong>VIP:</strong> <span id="vipDisplay"></span></span> &nbsp;&nbsp;
      <span><strong>Coins:</strong> <span id="coinsDisplay"></span></span>
    </div>
  </div>
  <div id="inventory" title="–í–∞—à –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å: –Ω–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã —ç–∫–∏–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç" aria-label="–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –∏–≥—Ä–æ–∫–∞" role="list"></div>
  <div id="log" aria-live="polite" aria-atomic="false" aria-relevant="additions" role="log"></div>
  <div id="gameControls" role="region" aria-label="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–π">
    <button onclick="donate()" aria-label="–ü–æ–ø–æ–ª–Ω–∏—Ç—å –∏–≥—Ä–æ–≤–æ–π —Å—á—ë—Ç">üíé –ü–æ–ø–æ–ª–Ω–∏—Ç—å —Å—á—ë—Ç</button>
    <button onclick="openSkillTree()" aria-label="–û—Ç–∫—Ä—ã—Ç—å –¥—Ä–µ–≤–æ –Ω–∞–≤—ã–∫–æ–≤">üßô –î—Ä–µ–≤–æ –Ω–∞–≤—ã–∫–æ–≤</button>
  </div>
  <div id="skillTreeModal" role="dialog" aria-modal="true" aria-labelledby="skillTreeTitle" tabindex="-1">
    <h3 id="skillTreeTitle" style="margin-top:0;">–î—Ä–µ–≤–æ –Ω–∞–≤—ã–∫–æ–≤</h3>
    <div id="skillsList" style="margin-bottom: 15px;"></div>
    <div>–û—á–∫–∏ –Ω–∞–≤—ã–∫–æ–≤: <span id="skillPoints"></span></div>
    <button onclick="closeSkillTree()" aria-label="–ó–∞–∫—Ä—ã—Ç—å –¥—Ä–µ–≤–æ –Ω–∞–≤—ã–∫–æ–≤">–ó–∞–∫—Ä—ã—Ç—å</button>
  </div>

<script>
// –ò–≥—Ä–æ–∫ —Å –∏–∫–æ–Ω–∫–æ–π
let player = {
  x: 160,
  y: 160,
  hp: 100,
  maxHp: 100,
  mp: 50,
  maxMp: 50,
  exp: 0,
  nextLevelExp: 100,
  level: 1,
  coins: 0,
  vipLevel: 0,
  firstTopup: true,
  inventory: [],
  equipment: { weapon: null, armor: null, shield: null },
  skillPoints: 0,
  skills: { strength: 0, agility: 0, intelligence: 0 },
  icon: "https://opengameart.org/sites/default/files/character_maleAdventurer_icon.png"
};

// –≠–ª–µ–º–µ–Ω—Ç—ã
const mapDiv = document.getElementById("game");

// –°–æ–∑–¥–∞—ë–º –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (–≤–∫–ª—é—á–∞—è –∏–∫–æ–Ω–∫—É —Å–ª–µ–≤–∞ –æ—Ç —Å—Ç–∞—Ç—É—Å–æ–≤)
const charDiv = document.createElement("div");
charDiv.className = "character";
mapDiv.appendChild(charDiv);

const charBase = document.createElement("img");
charBase.src = "https://opengameart.org/sites/default/files/character_maleAdventurer_walk.png";
charBase.alt = "–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–∂";
charDiv.appendChild(charBase);

const charWeapon = document.createElement("img");
charWeapon.alt = "–û—Ä—É–∂–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞";
charDiv.appendChild(charWeapon);

const charArmor = document.createElement("img");
charArmor.alt = "–ë—Ä–æ–Ω—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞";
charDiv.appendChild(charArmor);

const charShield = document.createElement–í–æ—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –ø–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å –∏–∫–æ–Ω–∫–∞–º–∏ –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞, –º–æ–±–æ–≤, –ª—É—Ç–∞, –∞ —Ç–∞–∫–∂–µ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (–±–æ–ª—å—à–µ –∫–Ω–æ–ø–∫–∏, –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º—ã–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å, –ª–æ–≥, –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–µ –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ).
–û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
- –£ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –∏ –º–æ–±–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω—ã –∏–∫–æ–Ω–∫–∏ —Ä–∞–∑–º–µ—Ä–æ–º ~16vw —Å max 96px
- –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å ‚Äî –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª —Å –∫—Ä—É–ø–Ω—ã–º–∏ –∏–∫–æ–Ω–∫–∞–º–∏
- –£–≤–µ–ª–∏—á–µ–Ω—ã —à—Ä–∏—Ñ—Ç—ã –∏ –∫–Ω–æ–ø–∫–∏ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —Ç–∞–ø–∞ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ
- –£–ª—É—á—à–µ–Ω–∞ —Ä–∞–∑–º–µ—Ç–∫–∞ –∏ ARIA –¥–ª—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

---

–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ (–æ–±—Ä–µ–∑–∞–ª, –ø–æ–ª–Ω—ã–π –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫–∞–∫ html-—Ñ–∞–π–ª):

```html
<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<title>Mini-RPG Mobile</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<style>
  body { font-family: Arial, sans-serif; background:#111; color:#fff; text-align:center; margin:0; padding:0; }
  #game {
    margin: 10px auto;
    width: 95vw;
    height: 50vw;
    max-width: 600px;
    max-height: 600px;
    border: 2px solid #fff;
    border-radius: 10px;
    background: #222 url('https://opengameart.org/sites/default/files/tiny_roguelike_tilesheet.png') no-repeat center center;
    background-size: contain;
    position: relative;
    overflow: hidden;
  }
  .character, .monster, .loot {
    width: 16vw;
    height: 16vw;
    max-width: 96px;
    max-height: 96px;
    position: absolute;
    transition: all 0.2s ease;
  }
  .character img, .monster img, .loot img {
    width: 100%; height: 100%; image-rendering: pixelated;
    border-radius: 8px; border:1px solid #ccc; box-shadow: 0 0 5px #0008; background:#222;
  }
  #status {
    margin: 5px auto 10px;
    width: 95vw;
    max-width: 600px;
    border: 1px solid #fff;
    padding: 12px 15px;
    font-size: 16px;
    text-align: left;
    border-radius: 8px;
    user-select: none;
  }
  .bar { width: 100%; height: 14px; background: #444; border-radius: 7px; margin: 8px 0; overflow: hidden; }
  .bar-fill { height: 100%; background: #0f0; width: 0%; border-radius: 7px; transition: width 0.3s ease; }
  #mpFill { background: #06f; }
  #expFill { background: #ff0; }
  #inventory {
    margin: 10px auto;
    width: 95vw;
    max-width: 600px;
    display: flex;
    flex-wrap: nowrap;
    overflow-x: auto;
    border: 1px solid #fff;
    padding: 8px 5px;
    background: #222;
    border-radius: 8px;
    cursor: default;
  }
  #inventory::-webkit-scrollbar { height: 8px; }
  #inventory::-webkit-scrollbar-thumb { background: #666; border-radius: 4px; }
  .item {
    min-width: 56px;
    min-height: 56px;
    margin: 0 7px;
    background-size: contain;
    background-repeat: no-repeat;
    border: 2px solid #fff;
    border-radius: 10px;
    flex-shrink: 0;
    position: relative;
    cursor: pointer;
  }
  .item span {
    position: absolute;
    bottom: 2px; left: 2px; right: 2px;
    background: #000c;
    font-size: 11px;
    color: #eee;
    border-radius: 4px;
    padding: 1px 3px;
    text-transform: uppercase;
    text-align: center;
    user-select: none;
  }
  .item:hover { filter: brightness(1.3); }
  #log {
    height: 140px;
    max-width: 600px;
    margin: 10px auto;
    overflow-y: auto;
    border: 1px solid #fff;
    padding: 10px 12px;
    font-size: 14px;
    text-align: left;
    background: #222;
    border-radius: 8px;
    user-select: none;
  }
  button {
    margin: 8px 12px;
    padding: 14px 18px;
    font-size: 18px;
    border-radius: 8px;
    border: none;
    background: #0066cc;
    color: #fff;
    cursor: pointer;
    transition: 0.25s;
    min-width: 150px;
  }
  button:active { background: #004bb5; }
  #gameControls { margin-top: 15px; }
  #skillTreeModal {
    position: fixed;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    background: #222;
    border: 2px solid #fff;
    padding: 20px 25px;
    z-index: 100;
    width: 90%;
    max-width: 340px;
    max-height: 70%;
    overflow-y: auto;
    font-size: 15px;
    border-radius: 12px;
    display: none;
  }
  #skillTreeModal.visible { display: block; }
  #skillTreeModal button { min-width: 80px; padding: 8px 12px; font-size: 14px; margin-top: 10px; }
</style>
</head>
<body>
<h2 style="font-size: 1.8em; margin-top:10px;">Mini-RPG Mobile</h2>
<div id="game" aria-label="–ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ" role="main"></div>
<div id="status" aria-live="polite" aria-atomic="true" aria-relevant="all">
  <strong>HP:</strong>
  <div class="bar" role="progressbar"><div class="bar-fill" id="hpFill"></div></div>
  <strong>MP:</strong>
  <div class="bar" role="progressbar"><div class="bar-fill" id="mpFill"></div></div>
  <strong>EXP:</strong>
  <div class="bar" role="progressbar"><div class="bar-fill" id="expFill"></div></div>
  <div style="margin-top:8px; font-size:16px;">
    <span><strong>Level:</strong> <span id="levelDisplay"></span></span> &nbsp;&nbsp;
    <span><strong>VIP:</strong> <span id="vipDisplay"></span></span> &nbsp;&nbsp;
    <span><strong>Coins:</strong> <span id="coinsDisplay"></span></span>
  </div>
</div>
<div id="inventory" title="–í–∞—à –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å: –Ω–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã —ç–∫–∏–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç" aria-label="–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –∏–≥—Ä–æ–∫–∞" role="list"></div>
<div id="log" aria-live="polite" role="log"></div>
<div id="gameControls" role="region" aria-label="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–π">
  <button onclick="donate()" aria-label="–ü–æ–ø–æ–ª–Ω–∏—Ç—å –∏–≥—Ä–æ–≤–æ–π —Å—á—ë—Ç">üíé –ü–æ–ø–æ–ª–Ω–∏—Ç—å —Å—á—ë—Ç</button>
  <button onclick="openSkillTree()" aria-label="–û—Ç–∫—Ä—ã—Ç—å –¥—Ä–µ–≤–æ –Ω–∞–≤—ã–∫–æ–≤">üßô –î—Ä–µ–≤–æ –Ω–∞–≤—ã–∫–æ–≤</button>
</div>
<div id="skillTreeModal" role="dialog" aria-modal="true" aria-labelledby="skillTreeTitle" tabindex="-1">
  <h3 id="skillTreeTitle" style="margin-top:0;">–î—Ä–µ–≤–æ –Ω–∞–≤—ã–∫–æ–≤</h3>
  <div id="skillsList" style="margin-bottom: 15px;"></div>
  <div>–û—á–∫–∏ –Ω–∞–≤—ã–∫–æ–≤: <span id="skillPoints"></span></div>
  <button onclick="closeSkillTree()" aria-label="–ó–∞–∫—Ä—ã—Ç—å –¥—Ä–µ–≤–æ –Ω–∞–≤—ã–∫–æ–≤">–ó–∞–∫—Ä—ã—Ç—å</button>
</div>

<script>
// –ò–≥—Ä–æ–∫ —Å –∏–∫–æ–Ω–∫–æ–π –∏ alt
let player = {
  x: 160, y: 160,
  hp: 100, maxHp: 100,
  mp: 50, maxMp: 50,
  exp: 0, nextLevelExp: 100,
  level: 1, coins: 0, vipLevel: 0,
  firstTopup: true,
  inventory: [],
  equipment: { weapon: null, armor: null, shield: null },
  skillPoints: 0,
  skills: { strength: 0, agility: 0, intelligence: 0 },
};

// –î–∏–≤ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
const mapDiv = document.getElementById("game");
const charDiv = document.createElement("div");
charDiv.className = "character";
mapDiv.appendChild(charDiv);

const charBase = document.createElement("img");
charBase.src = "https://opengameart.org/sites/default/files/character_maleAdventurer_icon.png";
charBase.alt = "–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–∂";
charDiv.appendChild(charBase);

const charWeapon = document.createElement("img");
charWeapon.alt = "–û—Ä—É–∂–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞";
charDiv.appendChild(charWeapon);

const charArmor = document.createElement("img");
charArmor.alt = "–ë—Ä–æ–Ω—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞";
charDiv.appendChild(charArmor);

const charShield = document.createElement("img");
charShield.alt = "–©–∏—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–∞";
charDiv.appendChild(charShield);

// –õ–æ–≥–∏
function log(msg){
  const l = document.getElementById("log");
  l.innerHTML += msg + "<br>";
  l.scrollTop = l.scrollHeight;
}

// –ê–ø–¥–µ–π—Ç —Å—Ç–∞—Ç—É—Å–∞
function updateStatus(){
  document.getElementById("hpFill").style.width = (player.hp/player.maxHp*100) + "%";
  document.getElementById("mpFill").style.width = (player.mp/player.maxMp*100) + "%";
  document.getElementById("expFill").style.width = (player.exp/player.nextLevelExp*100) + "%";
  document.getElementById("levelDisplay").innerText = player.level;
  document.getElementById("vipDisplay").innerText = player.vipLevel;
  document.getElementById("coinsDisplay").innerText = player.coins;
}

// –ê–ø–¥–µ–π—Ç –≤–∏–¥–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –∏ —ç–∫–∏–ø–∏—Ä–æ–≤–∫–∏
function updateCharacterView(){
  charDiv.style.left = player.x + "px";
  charDiv.style.top = player.y + "px";
  charWeapon.src = player.equipment.weapon ? player.equipment.weapon.img : "";
  charArmor.src = player.equipment.armor ? player.equipment.armor.img : "";
  charShield.src = player.equipment.shield ? player.equipment.shield.img : "";
}

// –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å
const invDiv = document.getElementById("inventory");
function updateInventory(){
  invDiv.innerHTML = "";
  player.inventory.forEach((item,idx)=>{
    const div = document.createElement("div");
    div.className = "item";
    div.style.backgroundImage = `url(${item.img})`;
    div.title = `${item.name}\n${item.bonus ? JSON.stringify(item.bonus) : ""}`;
    div.setAttribute('role','listitem');
    div.innerHTML = `<span>${item.type}</span>`;
    div.onclick = () => equipItem(idx);
    invDiv.appendChild(div);
  });
}
function equipItem(index){
  const item = player.inventory[index];
  player.equipment[item.type] = item;
  log(`üõ° –≠–∫–∏–ø–∏—Ä–æ–≤–∞–Ω: ${item.name}`);
  updateCharacterView();
}

// –î–æ–Ω–∞—Ç
function donate(){
  let amount = parseInt(prompt("–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è (—á–∏—Å–ª–æ):"),10);
  if(!amount || amount<=0) return alert("–ù–µ–≤–µ—Ä–Ω–∞—è —Å—É–º–º–∞!");
  player.coins += amount;
  if(player.firstTopup){
    player.firstTopup = false;
    const bonusItem = {
      name: "–ú–µ—á –Ω–æ–≤–∏—á–∫–∞+1",
      type: "weapon",
      img: "https://opengameart.org/sites/default/files/Gold_Sword_Icon.png",
      rarity: "legendary",
      bonus: { strength: 5, crit: 5 }
    };
    player.inventory.push(bonusItem);
    log("üéâ –ü–µ—Ä–≤–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ! –ü–æ–ª—É—á–µ–Ω –±–æ–Ω—É—Å: " + bonusItem.name);
  }
  const vipGain = Math.floor(amount/100);
  player.vipLevel += vipGain;
  player.exp += vipGain*10;
  log(`üíé –î–æ–Ω–∞—Ç: ${amount} –º–æ–Ω–µ—Ç, VIP +${vipGain}, EXP +${vipGain*10}`);
  updateInventory();
  updateStatus();
}

// –ú–æ–±—ã
const monsters = [
  {id:1, name:"–ì–æ–±–ª–∏–Ω", x:100, y:140, hp:30, maxHp:30, img:"https://opengameart.org/sites/default/files/goblin_icon.png"},
  {id:2, name:"–°–∫–µ–ª–µ—Ç", x:250, y:100, hp:25, maxHp:25, img:"https://opengameart.org/sites/default/files/skeleton_icon.png"}
];
const monsterDivs = {};
function renderMonsters(){
  monsters.forEach(m=>{
    if(!monsterDivs[m.id]){
      const mDiv = document.createElement("div");
      mDiv.className = "monster";
      const img = document.createElement("img");
      img.src = m.img;
      img.alt = m.name;
      mDiv.appendChild(img);
      mapDiv.appendChild(mDiv);
      monsterDivs[m.id] = mDiv;
      mDiv.onclick = ()=>{
        log(`‚öî –£–±–∏–ª–∏ –º–æ–±–∞: ${m.name}`);
        const loot = generateLoot();
        player.inventory.push(loot);
        log(`üéÅ –í—ã–ø–∞–ª –ª—É—Ç: ${loot.name} (${loot.rarity})`);
        updateInventory();
      };
    }
    const mDiv = monsterDivs[m.id];
    mDiv.style.left = m.x + "px";
    mDiv.style.top = m.y + "px";
  });
}
// –õ—É—Ç
function generateLoot(){
  const rarityTable = [
    {name:"–ú–µ—á –Ω–æ–≤–∏—á–∫–∞", type:"weapon", img:"https://opengameart.org/sites/default/files/Sword_icon.png", rarity:"common", bonus:{strength:1}},
    {name:"–î–æ—Å–ø–µ—Ö —Ä–µ–¥–∫–∏–π", type:"armor", img:"https://opengameart.org/sites/default/files/Armor_icon.png", rarity:"rare", bonus:{hp:20}},
    {name:"–©–∏—Ç —ç–ø–∏—á–µ—Å–∫–∏–π", type:"shield", img:"https://opengameart.org/sites/default/files/shield_icon.png", rarity:"epic", bonus:{crit:5}},
    {name:"–ú–µ—á –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π", type:"weapon", img:"https://opengameart.org/sites/default/files/Golden_Sword_icon.png", rarity:"legendary", bonus:{strength:5, crit:10}}
  ];
  const roll = Math.random();
  let item;
  if(roll<0.5) item=rarityTable[0];
  else if(roll<0.75) item=rarityTable[1];
  else if(roll<0.9) item=rarityTable[2];
  else item=rarityTable[3];
  return item;
}
// –ù–∞–≤—ã–∫–∏
function openSkillTree(){
  document.getElementById("skillTreeModal").classList.add("visible");
  updateSkillTree();
}
function closeSkillTree(){
  document.getElementById("skillTreeModal").classList.remove("visible");
}
function updateSkillTree(){
  const skillsDiv = document.getElementById("skillsList");
  skillsDiv.innerHTML = "";
  document.getElementById("skillPoints").innerText = player.skillPoints;
  for(let key in player.skills){
    let div = document.createElement("div");
    div.innerHTML = `${key.toUpperCase()}: ${player.skills[key]} <button onclick="upgradeSkill('${key}')">+</button>`;
    skillsDiv.appendChild(div);
  }
}
function upgradeSkill(skill){
  if(player.skillPoints<=0) return;
  player.skills[skill]+=1;
  player.skillPoints-=1;
  log(`üÜô ${skill.toUpperCase()} +1`);
  updateSkillTree();
}

// –°—Ç–∞—Ä—Ç
updateCharacterView();
updateInventory();
updateStatus();
renderMonsters();
</script>
</body>
</html>