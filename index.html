<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RPG –ü–µ—Ä—Å–æ–Ω–∞–∂</title>
<style>
:root {
    --dark-bg: #0f172a;
    --panel-bg: #1e293b;
    --accent: #3b82f6;
    --accent-dark: #2563eb;
    --text: #f1f5f9;
    --text-muted: #94a3b8;
    --health: #ef4444;
    --mana: #6366f1;
    --xp: #10b981;
    --gold: #f59e0b;
}
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;}
body{background:var(--dark-bg);color:var(--text);min-height:100vh;padding:20px;}
.container{max-width:1200px;margin:0 auto;}
header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding:20px;background:var(--panel-bg);border-radius:12px;}
.character-info{display:flex;align-items:center;gap:15px;}
.character-visual{position:relative;width:80px;height:80px;background:rgba(30,41,59,0.7);border-radius:8px;display:flex;align-items:center;justify-content:center;overflow:hidden;}
.character-base{width:50px;height:50px;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="40" fill="%23f59e0b"/></svg>');background-size:contain;background-repeat:no-repeat;}
.character-weapon,.character-armor{position:absolute;font-size:2rem;transition:all 0.5s ease;}
.character-weapon{top:25px;left:45px;opacity:0;transform:scale(0);}
.character-armor{top:20px;left:30px;opacity:0;transform:scale(0);}
.header-text h1{font-size:1.5rem;margin-bottom:5px;color:var(--accent);}
.header-text div{color:var(--text-muted);}
.gold-display{display:flex;align-items:center;gap:8px;font-size:1.2rem;font-weight:bold;color:var(--gold);}
.tabs{display:flex;margin-bottom:20px;background:var(--panel-bg);border-radius:12px;overflow:hidden;}
.tab-btn{flex:1;padding:15px;background:transparent;border:none;color:var(--text-muted);cursor:pointer;transition:all 0.3s;font-weight:bold;}
.tab-btn:hover{background:rgba(59,130,246,0.1);color:var(--text);}
.tab-btn.active{background:var(--accent);color:white;}
.tab-content{display:none;}
.tab-content.active{display:block;}
.inventory-panel{background:var(--panel-bg);padding:20px;border-radius:12px;box-shadow:0 4px 20px rgba(0,0,0,0.4);}
.inventory-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:10px;}
.item-slot{background:rgba(30,41,59,0.7);height:70px;border-radius:8px;display:flex;align-items:center;justify-content:center;border:2px solid #334155;transition:all 0.3s;position:relative;cursor:pointer;}
.item-slot.empty::before{content:"+";font-size:1.5rem;color:var(--text-muted);}
.item-slot:hover{border-color:var(--accent);}
.item-icon{font-size:2rem;cursor:grab;}
.item-count{position:absolute;bottom:5px;right:5px;background:rgba(0,0,0,0.7);border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:0.8rem;}
.item-context-menu{position:absolute;background:var(--panel-bg);border-radius:8px;box-shadow:0 4px 20px rgba(0,0,0,0.4);z-index:100;padding:10px;display:none;flex-direction:column;gap:5px;}
.item-context-btn{padding:8px 12px;background:var(--accent);color:white;border:none;border-radius:4px;cursor:pointer;text-align:left;}
.item-context-btn.sell{background:green;}
.item-context-btn.dismantle{background:red;}
</style>
</head>
<body>
<div class="container">
<header>
<div class="character-info">
<div class="character-visual">
<div class="character-base" id="character-base"></div>
<div class="character-weapon" id="character-weapon"></div>
<div class="character-armor" id="character-armor"></div>
</div>
<div class="header-text">
<h1 id="header-name">–ò–≥—Ä–æ–∫</h1>
<div id="header-level">–£—Ä–æ–≤–µ–Ω—å 1</div>
</div>
</div>
<div class="gold-display">
<span>ü™ô</span>
<span id="gold-amount">50</span>
</div>
</header>

<div class="tabs">
<button class="tab-btn active" data-tab="inventory">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</button>
<button class="tab-btn" data-tab="stats">–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</button>
</div>

<div class="tab-content active" id="inventory">
<div class="inventory-panel">
<div class="inventory-grid" id="inventory-grid"></div>
</div>
</div>

<div class="tab-content" id="stats">
<h2>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</h2>
<p>–ó–¥–µ—Å—å –±—É–¥—É—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.</p>
</div>
</div>

<div class="item-context-menu" id="item-context-menu">
<button class="item-context-btn equip">–≠–∫–∏–ø–∏—Ä–æ–≤–∞—Ç—å</button>
<button class="item-context-btn sell">–ü—Ä–æ–¥–∞—Ç—å</button>
<button class="item-context-btn dismantle">–†–∞–∑–æ–±—Ä–∞—Ç—å</button>
</div>

<script>
let character = {
    name: "–ò–≥—Ä–æ–∫",
    level: 1,
    gold: 50,
    equipment: {weapon: null, armor: null},
    inventory: [
        {name:"–ú–µ—á",type:"weapon",icon:"üó°Ô∏è",count:1},
        {name:"–©–∏—Ç",type:"armor",icon:"üõ°Ô∏è",count:1},
        {name:"–ó–µ–ª—å–µ",type:"consumable",icon:"üß™",count:3},
        null,null,null,null,null,null
    ]
};

// –¢–∞–±—Å—ã
document.querySelectorAll('.tab-btn').forEach(btn=>{
    btn.addEventListener('click',()=>{
        document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        document.querySelectorAll('.tab-content').forEach(c=>c.classList.remove('active'));
        document.getElementById(btn.dataset.tab).classList.add('active');
    });
});

const inventoryGrid = document.getElementById('inventory-grid');
const contextMenu = document.getElementById('item-context-menu');
let currentSlot = null;

function renderInventory(){
    inventoryGrid.innerHTML = '';
    character.inventory.forEach((item,index)=>{
        const slot = document.createElement('div');
        slot.classList.add('item-slot');
        slot.dataset.index = index;

        if(item){
            const icon = document.createElement('div');
            icon.className = 'item-icon';
            icon.textContent = item.icon;
            icon.draggable = true;

            // Drag&Drop
            icon.addEventListener('dragstart', e=>{
                e.dataTransfer.setData('text/plain', index);
            });

            slot.appendChild(icon);

            if(item.count>1){
                const count = document.createElement('div');
                count.className = 'item-count';
                count.textContent = item.count;
                slot.appendChild(count);
            }
        } else slot.classList.add('empty');

        slot.addEventListener('dragover', e=>{e.preventDefault();});
        slot.addEventListener('drop', e=>{
            const fromIndex = e.dataTransfer.getData('text/plain');
            [character.inventory[fromIndex], character.inventory[index]] = [character.inventory[index], character.inventory[fromIndex]];
            renderInventory();
        });

        slot.addEventListener('contextmenu',(e)=>{
            e.preventDefault();
            currentSlot = index;
            contextMenu.style.display='flex';
            contextMenu.style.left=e.pageX+'px';
            contextMenu.style.top=e.pageY+'px';
        });

        inventoryGrid.appendChild(slot);
    });
}

// –≠–∫–∏–ø–∏—Ä–æ–≤–∫–∞ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
function equipItem(item,index){
    if(item.type==='weapon'){
        if(character.equipment.weapon) character.inventory[index] = character.equipment.weapon;
        else character.inventory[index] = null;
        character.equipment.weapon = item;

        const weaponEl = document.getElementById('character-weapon');
        weaponEl.textContent = item.icon;
        weaponEl.style.opacity = 0;
        weaponEl.style.transform = 'scale(0)';
        setTimeout(()=>{
            weaponEl.style.opacity = 1;
            weaponEl.style.transform = 'scale(1)';
        },50);
    }
    if(item.type==='armor'){
        if(character.equipment.armor) character.inventory[index] = character.equipment.armor;
        else character.inventory[index] = null;
        character.equipment.armor = item;

        const armorEl = document.getElementById('character-armor');
        armorEl.textContent = item.icon;
        armorEl.style.opacity = 0;
        armorEl.style.transform = 'scale(0)';
        setTimeout(()=>{
            armorEl.style.opacity = 1;
            armorEl.style.transform = 'scale(1)';
        },50);
    }
}

contextMenu.querySelector('.equip').addEventListener('click',()=>{
    if(currentSlot===null) return;
    const item = character.inventory[currentSlot];
    if(!item) return;
    equipItem(item,currentSlot);
    renderInventory();
    contextMenu.style.display='none';
});

contextMenu.querySelector('.sell').addEventListener('click',()=>{
    if(currentSlot===null) return;
    const item = character.inventory[currentSlot];
    if(!item) return;
    character.gold += 10;
    character.inventory[currentSlot] = null;
    document.getElementById('gold-amount').textContent = character.gold;
    renderInventory();
    contextMenu.style.display='none';
});

contextMenu.querySelector('.dismantle').addEventListener('click',()=>{
    if(currentSlot===null) return;
    const item = character.inventory[currentSlot];
    if(!item) return;
    character.inventory[currentSlot] = null;
    renderInventory();
    contextMenu.style.display='none';
});

// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ
document.addEventListener('click',()=>{contextMenu.style.display='none';});

renderInventory();
</script>
</body>
</html>
